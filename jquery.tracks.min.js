/*!
* tracks.js
* @author Mike Nowak
* @version 0.1
*
* Copyright (c) 2013 Mike Nowak https://github.com/n0wak
* Released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
*
*/
(function(e){"use strict";function r(t){if(typeof t.attr("data-track")!=="undefined"){try{var n=e.parseJSON(t.attr("data-track"));if(n){return n}}catch(r){console.error("Bad tracking data : "+r,r)}}return false}function i(e){var t={category:e.attr("data-track-category"),action:e.attr("data-track-action"),label:e.attr("data-track-label"),value:e.attr("data-track-value")};return t.category===""?false:t}function s(t){var r={category:typeof t.category==="undefined"?n.category:e.trim(t.category),action:typeof t.action==="undefined"?n.action:e.trim(t.action),label:typeof t.label==="undefined"?n.label:e.trim(t.label),value:typeof t.value==="undefined"?n.value:e.trim(t.value)};return r.category===""?false:r}function o(e){var t=false;if(e){t=r(e)}if(t!==false){return s(t)}return s(i(e))}function u(e,n){for(var r in t){if(t.hasOwnProperty(r)){var i=t[r];if(e!=="page"&&e!=="social"){e="event"}if(typeof i==="function"){i(n)}else if(typeof i[e]==="function"){i[e](n)}}}}function a(e,n){if(typeof t[e]!=="undefined"){console.log("Tracker "+e+" exists. Can not add.");return false}if(typeof n==="function"){t[e]=n}else if(typeof n==="object"){var r=["event","page","social"];var i={};for(var s=0;s<r.length;s++){if(typeof n[r[s]]==="function"){i[r[s]]=n[r[s]]}}t[e]=i}}var t={"ga.js":{event:function(e){window._gaq=window._gaq||[];window._gaq.push(["_trackEvent",e.category,e.action,e.label,e.value])},page:function(e){window._gaq=window._gaq||[];window._gaq.push(["_trackPageview",e])},social:function(e){}}};var n={event:"click",category:"",action:"trigger",label:"",value:""};e.fn.tracks=function(t){if(typeof t==="object"){for(var r in t){n[r]=t[r]}}return this.on(n.event,function(t){var n=o(e(this));if(n!==false){u("event",n)}})};e.fn.tracks.page=function(e){u("page",e)};e.fn.tracks.event=function(e){u("event",s(e))};e.fn.tracks.addTracker=function(e,t){a(e,t)}})(jQuery)